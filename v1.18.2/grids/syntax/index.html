<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>General syntax · WriteVTK.jl</title><meta name="title" content="General syntax · WriteVTK.jl"/><meta property="og:title" content="General syntax · WriteVTK.jl"/><meta property="twitter:title" content="General syntax · WriteVTK.jl"/><meta name="description" content="Documentation for WriteVTK.jl."/><meta property="og:description" content="Documentation for WriteVTK.jl."/><meta property="twitter:description" content="Documentation for WriteVTK.jl."/><meta property="og:url" content="https://juliavtk.github.io/WriteVTK.jl/grids/syntax/"/><meta property="twitter:url" content="https://juliavtk.github.io/WriteVTK.jl/grids/syntax/"/><link rel="canonical" href="https://juliavtk.github.io/WriteVTK.jl/grids/syntax/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><script src="../../assets/tomate.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">WriteVTK.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Grid formats</span><ul><li class="is-active"><a class="tocitem" href>General syntax</a><ul class="internal"><li><a class="tocitem" href="#Data-formatting-options"><span>Data formatting options</span></a></li><li><a class="tocitem" href="#Setting-the-VTK-file-version"><span>Setting the VTK file version</span></a></li></ul></li><li><a class="tocitem" href="../structured/">Structured grid formats</a></li><li><a class="tocitem" href="../unstructured/">Unstructured grid formats</a></li><li><a class="tocitem" href="../datasets/">Writing datasets</a></li></ul></li><li><span class="tocitem">Metadata formats</span><ul><li><a class="tocitem" href="../../metadata/multiblock/">Multiblock files</a></li><li><a class="tocitem" href="../../metadata/paraview_collections/">ParaView collections</a></li><li><a class="tocitem" href="../../metadata/parallel/">Parallel files</a></li></ul></li><li><span class="tocitem">Additional tools</span><ul><li><a class="tocitem" href="../../tools/surface/">Generating surface plots</a></li><li><a class="tocitem" href="../../tools/write_array/">Visualising Julia arrays</a></li><li><a class="tocitem" href="../../tools/readvtk/">Reading VTK files</a></li></ul></li><li><a class="tocitem" href="../../API/">API Reference</a></li><li><a class="tocitem" href="../../external/VTKBase/">VTKBase.jl</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Grid formats</a></li><li class="is-active"><a href>General syntax</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>General syntax</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaVTK/WriteVTK.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaVTK/WriteVTK.jl/blob/master/docs/src/grids/syntax.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="General-syntax"><a class="docs-heading-anchor" href="#General-syntax">General syntax</a><a id="General-syntax-1"></a><a class="docs-heading-anchor-permalink" href="#General-syntax" title="Permalink"></a></h1><p>The syntax for writing VTK files typically looks like the following:</p><pre><code class="language-julia hljs">saved_files = vtk_grid(filename, points..., [cells]; kws...) do vtk
    # add datasets here...
end</code></pre><ul><li><p>Grid coordinates are passed via one or more <code>points</code> arguments, as detailed in <a href="../structured/#Structured-grid-formats">Structured grid formats</a> and <a href="../unstructured/#Unstructured-grid-formats">Unstructured grid formats</a>.</p></li><li><p>The <code>cells</code> argument is only relevant for unstructured grids, as detailed in <a href="../unstructured/#Unstructured-grid-formats">Unstructured grid formats</a>.</p></li><li><p>Data may be added to the <code>vtk</code> handler at the interior of the do-block. See <a href="../datasets/#Writing-datasets">Writing datasets</a> for more details.</p></li><li><p>The returned variable <code>saved_files</code> is a <code>Vector{String}</code> containing the paths of the actual VTK files that were saved after the operation. When writing VTK dataset files (e.g. structured or unstructured grids), this contains just a single path, but this changes when one is working with metadata files such as <a href="../../metadata/multiblock/#Multiblock-files">multiblock</a> or <a href="../../metadata/parallel/#Parallel-files">parallel files</a>.</p></li></ul><p>Note that the above syntax, which uses Julia&#39;s <a href="https://docs.julialang.org/en/v1/manual/functions/#Do-Block-Syntax-for-Function-Arguments">do-block syntax</a> is equivalent to:</p><pre><code class="language-julia hljs">vtk = vtk_grid(filename, points..., [cells]; kws...)
# add datasets here...
saved_files = vtk_save(vtk)</code></pre><h2 id="Data-formatting-options"><a class="docs-heading-anchor" href="#Data-formatting-options">Data formatting options</a><a id="Data-formatting-options-1"></a><a class="docs-heading-anchor-permalink" href="#Data-formatting-options" title="Permalink"></a></h2><p>By default, numerical data is written to the XML files as compressed raw binary data. This can be changed using the optional keyword arguments of <a href="../../API/#WriteVTK.vtk_grid-Tuple{AbstractString, AbstractVector, AbstractVector{&lt;:VTKBase.AbstractMeshCell}, Vararg{Any}}"><code>vtk_grid</code></a>.</p><p>For instance, to disable both compressing and appending raw data in the case of unstructured meshes:</p><pre><code class="language-julia hljs">vtk_grid(filename, points, cells; compress = false, append = false, ascii = false)</code></pre><p>More generally:</p><ul><li><p>If <code>append</code> is <code>true</code> (default), data is written appended at the end of the XML file as raw binary data. Note that this violates the XML specification, but is allowed by VTK formats.</p><p>Otherwise, if <code>append</code> is <code>false</code>, data is written inline. By default, inline data is written base-64 encoded, but may also be written in ASCII format (see below). Writing inline data is usually slower than writing raw binary data, and also results in larger files, but is valid according to the XML specification.</p></li><li><p>If <code>ascii</code> is <code>true</code>, then appended data is written in ASCII format instead of base64-encoded. This is not the default. This option is ignored if <code>append</code> is <code>true</code>.</p></li><li><p>If <code>compress</code> is <code>true</code> (default), data is first compressed using the <a href="https://github.com/JuliaIO/CodecZlib.jl">CodecZlib</a> package. Its value may also be a compression level between 1 (fast compression) and 9 (best compression). This option is ignored when writing inline data in ASCII format.</p></li></ul><h2 id="Setting-the-VTK-file-version"><a class="docs-heading-anchor" href="#Setting-the-VTK-file-version">Setting the VTK file version</a><a id="Setting-the-VTK-file-version-1"></a><a class="docs-heading-anchor-permalink" href="#Setting-the-VTK-file-version" title="Permalink"></a></h2><p>The <code>vtk_grid</code> function also allows setting the VTK file version using the optional <code>vtkversion</code> keyword argument. This refers to the version of the VTK XML file format that is to be written, and which appears in the <code>VTKFile</code> element of the XML file. Different versions may be interpreted differently by ParaView. Note that this is a somewhat <strong>advanced option</strong> that may be used to solve potential issues.</p><p>As a real-life example, say that you want to write an <a href="../unstructured/#Unstructured-grid-formats">unstructured dataset</a> made of <a href="https://www.kitware.com/modeling-arbitrary-order-lagrange-finite-elements-in-the-visualization-toolkit/">Lagrange hexahedron</a> cells. Defining each cell requires defining (1) a set of space coordinates, and (2) determining the way these coordinates connect to form the cell. The order of the points in the connectivity arrays must follow the specific node numbering expected by the VTK libraries. But the node numbering <a href="https://gitlab.kitware.com/vtk/vtk/-/blob/master/Documentation/release/9.1.md#data">can change</a> from one VTK version to the other. So, if one constructs the cells following the latest VTK specification, one should set the VTK file version to the newest one. See <a href="https://discourse.julialang.org/t/writevtk-node-numbering-for-27-node-lagrange-hexahedron/93698">this discussion</a> for more details.</p><p>The <code>vtkversion</code> option is used as follows:</p><pre><code class="language-julia hljs">vtk_grid(filename, points, [cells]; vtkversion = :default, etc...)</code></pre><p>The <code>vtkversion</code> argument can take the following values:</p><ul><li><code>:default</code> (equivalent to <code>v&quot;1.0&quot;</code>);</li><li><code>:latest</code> (currently equivalent to <code>v&quot;2.2&quot;</code>);</li><li>some other version number of the form <code>v&quot;X.Y&quot;</code>.</li></ul><p>VTK file version <code>1.0</code> is used by default for backwards compatibility and to make sure that the generated files can be read by old versions of the VTK libraries and of ParaView.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../">« Home</a><a class="docs-footer-nextpage" href="../structured/">Structured grid formats »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Friday 2 February 2024 16:07">Friday 2 February 2024</span>. Using Julia version 1.10.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
